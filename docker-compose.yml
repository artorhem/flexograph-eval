version: '3.8'

services:
  gapbs:
    privileged: true
    build:
      context: ./
      dockerfile: ./containers/GAPBS.Dockerfile
    container_name: gapbs
    volumes:
      - systems:/systems
      - datasets:/datasets
      - results:/results
  
  ligra:
    privileged: true
    build:
      context: ./
      dockerfile: ./containers/ligra.Dockerfile
    container_name: ligra
    volumes:
      - systems:/systems
      - datasets:/datasets
      - results:/results

  galois:
    privileged: true
    build:
      context: ./
      dockerfile: ./containers/galois.Dockerfile
    container_name: galois
    volumes:
      - systems:/systems
      - datasets:/datasets
      - results:/results

volumes:
  systems:
    driver: local
    driver_opts:
      type: none
      o: bind
      device: /home/puneet/scratch/flexograph-eval/systems/
  datasets:
    driver: local
    driver_opts:
      type: none
      o: bind
      device: /drives/hdd_main/datasets_downloads/
  results:
    driver: local
    driver_opts:
      type: none
      o: bind
      device: /home/puneet/scratch/flexograph-eval/results/