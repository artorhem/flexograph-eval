services:
  gapbs:
    privileged: true
    build:
      context: ./
      dockerfile: ./containers/GAPBS.Dockerfile
    container_name: gapbs
    volumes:
      - systems:/systems
      - datasets:/datasets
      - results:/results
  
        #planar:
        #privileged: true
        #build:
        #context: ./
        #dockerfile: ./containers/planar.Dockerfile
        #container_name: planar
        #volumes:
        #- systems:/systems
        #- datasets:/datasets
        #- results:/results
        # - folly:/folly
        #- scratch:/scratch

  gemini:
    privileged: true
    build:
      context: ./
      dockerfile: ./containers/gemini.Dockerfile
    container_name: gemini
    volumes:
      - systems:/systems
      - datasets:/datasets
      - results:/results
  
  ligra:
    privileged: true
    build:
      context: ./
      dockerfile: ./containers/ligra.Dockerfile
    container_name: ligra
    volumes:
      - systems:/systems
      - datasets:/datasets
      - results:/results

  galois:
    privileged: true
    build:
      context: ./
      dockerfile: ./containers/galois.Dockerfile
    container_name: galois
    volumes:
      - systems:/systems
      - datasets:/datasets
      - results:/results
  
  blaze:
    privileged: true
    build:
      context: ./
      dockerfile: ./containers/blaze.Dockerfile
    container_name: blaze
    volumes:
      - systems:/systems
      - datasets:/mnt/nvme
      - results:/results

volumes:
  systems:
    driver: local
    driver_opts:
      type: none
      o: bind
      device: ./systems/
  datasets:
    driver: local
    driver_opts:
      type: none
      o: bind
      device: ./datasets/
  results:
    driver: local
    driver_opts:
      type: none
      o: bind
      device: ./results/
        #folly:
        #driver: local
        #driver_opts:
        #type: none
        #o: bind
        #device: ./folly/
        #scratch:
        # driver: local
        # driver_opts:
        #type: none
        #o: bind
        #device: ./planar-scratch/
